{% extends "clubHomePage/base.html" %}

{% load wagtailcore_tags wagtailimages_tags wagtailembeds_tags %}

{% block body_class %}achievmentsindexpage{% endblock %}

{%block slugurl%}{{page.get_parent.get_parent.slug}}{%endblock%}
{%block name%}{{page.get_parent.get_parent.title}}{%endblock%}
{%block title%}{{page.title}} - {{page.get_parent.get_parent.title}}{%endblock%}
{%block navbargenerator%}<li><a href='/' id='homelink'>Home</a></li>

{%for pgc in page.get_parent.get_parent.get_children %}
{%ifequal pgc.slug page.get_parent.slug%}
<li class='active'><a href="/{{page.get_parent.get_parent.slug}}/{{pgc.slug}}">{{pgc.title}}</a></li>
{%else%}
<li><a href="/{{page.get_parent.get_parent.slug}}/{{pgc.slug}}">{{pgc.title}}</a></li>
{%endifequal%}
{%endfor%}
{%endblock%}

{%block customstyles%}
h1{
text-align:center;
font-family: 'Asap', sans-serif;
font-size:60px;
}
.intro{
margin-left:20px;
margin-right:20px;
text-align: justify;
-moz-text-align-last: center;
text-align-last: center;
font-family: 'Asap', sans-serif;
font-size:30px; 
}
.intro2{
margin-left:20px;
margin-right:20px;
text-align: justify;
-moz-text-align-last: center;
text-align-last: center;
font-family: 'Asap', sans-serif;
font-size:20px; 
}

.body{
padding-left:10px;
padding-right:10px;
font-size:18px;
font-family: 'Raleway', sans-serif;
text-align: justify;
-moz-text-align-last: center;
text-align-last: center;
}
.image{
max-width:100%;
border:2px solid black;
}
.items{
    display:flex;
}
.photosrow{
margin:5px;
display:flex;
flex-wrap:wrap;
align-items:center;
}
.images{
position:relative;

}
.image{
max-width:100%;
border:2px solid black;
}
.items{
    display:flex;
}
.photosrow{
margin:5px;
display:flex;
flex-wrap:wrap;
align-items:center;

}


{%endblock%}


{% block content %}
<br>
<h1>{{ page.title }}</h1>
<p class="intro">{{ page.date }}</p>
<div class="intro2">{{ page.competition_intro }}</div>
<br>
<div class="body">{{ page.description|richtext }}</div>
<div class='row photosrow'>
    {% for block in page.carousel %}
        {%if forloop.counter0|divisibleby:3 %}
            </div>
            <br>
            <div class="row photosrow">
        {%endif%}
    {% if block.block_type == 'image' %}
        <div class='col-xs-4 images'>
            {%image block.value original as tmp%}
            <img src='{{tmp.url}}' class='image' width='100%'/>
        </div>
    {%else%}
        <div class='col-xs-4 images'>
            <div class="embed-responsive embed-responsive-16by9">
                {%embed block.value.url%}
            </div>
        </div>
        {% endif %}      
    {% endfor %}
</div>
<br>

{% endblock %}
